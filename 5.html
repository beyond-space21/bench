<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    body {
        background-color: rgb(240, 248, 252);
    }

    .card {
        position: fixed;
        width: 200px;
        height: 100px;
        border-radius: 10px;
        background-color: rgba(158, 140, 240, 0.562);
    }
    .a{
        background-color: cadetblue;
    }
    .b{
        background-color: rgb(100, 160, 95);
    }
</style>

<body>
    <div class="card"></div>
    <div class="card"></div>
    <div class="card"></div>
    <div class="card"></div>

    <div class="view"></div>
</body>
<script src="art.js"></script>
<script>
    card = document.getElementsByClassName("card")

    for (var i = 0; i < card.length; i++) {
        getCentre(card[i])
    }

    var zoomframe = [
        { percent: 0, height: 100, width: 200,},
        { percent: 100, height: 600, width: 1000 }
    ]
    var moveframe = [
        {percent: 0,left: parseInt(card[0].style.marginLeft)},
        {percent: 100,left: 100}
    ]
    
        var heightframes=[]
        var widthframes=[]
        var leftframes=[]
    for(var i=0;i<zoomframe.length-1;i++){
        for(var t=heightframes.length;t<zoomframe[i+1].percent+1;t++){
            heightframes.push(map(t,zoomframe[i].percent,zoomframe[i+1].percent,zoomframe[i].height,zoomframe[i+1].height))
            widthframes.push(map(t,zoomframe[i].percent,zoomframe[i+1].percent,zoomframe[i].width,zoomframe[i+1].width))
        }
    }
    for(var i=0;i<moveframe.length-1;i++){
        for(var t=leftframes.length;t<moveframe[i+1].percent+1;t++){
            leftframes.push(map(t,moveframe[i].percent,moveframe[i+1].percent,moveframe[i].left,moveframe[i+1].left))
        }
    }
console.log(leftframes);
    var percent = 0
    document.addEventListener('wheel', function (elm) {
        deltaY = elm.deltaY
        e = percent + deltaY
        var s=true
        
        if (e >= 0 && e <= 500) {
            percent = e
            pos=map(e,0,500,0,100)

            if(pos===100){

            }            

            card[3].style.height = heightframes[pos+60] + 'px'
            card[3].style.width  = widthframes[pos+60] + 'px'
            card[3].style.marginLeft  = leftframes[pos+60] +'px'
            
            card[2].style.height = heightframes[pos+40] + 'px'
            card[2].style.width  = widthframes[pos+40] + 'px'
            card[2].style.right = 0
            card[2].style.marginRight  = leftframes[pos+40] +'px'

            card[1].style.height = heightframes[pos+20] + 'px'
            card[1].style.width  = widthframes[pos+20] + 'px'
            card[1].style.marginLeft  = leftframes[pos+20] +'px'

            card[0].style.height = heightframes[pos+0] + 'px'
            card[0].style.width  = widthframes[pos+0] + 'px'
            card[0].style.right = 0
            card[0].style.marginRight  = leftframes[pos+0] +'px'

            getCentre(card[0], 'y')
            getCentre(card[1], 'y')
            getCentre(card[2], 'y')
            getCentre(card[3], 'y')
        }
    })

</script>

</html>
